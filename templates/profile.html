{% extends 'base.html' %}
{% block title %}Profile{% endblock %}
{% block content %}
<section class="profile-section">
    <div class="container">
        <h2>Profile Page</h2>
        {% if user.is_authenticated %}
        <p>Welcome, {{ user.username }}!</p>
        <p>Here are your details:</p>
        <ul>
            <li>Username: {{ user.username }}</li>
            <li>Email: {{ user.email }}</li>
            <li>First Name: {{ user.first_name|default:"N/A" }}</li>
            <li>Last Name: {{ user.last_name|default:"N/A" }}</li>
            <li>Role: {{ profile.role|default:"N/A" }}</li>
            <li>Phone: {{ profile.phone|default:"Not provided" }}</li>
            <li>Address: {{ profile.address|default:"Not provided" }}</li>
            {% if profile.role == 'student' %}
                <li>USN: {{ profile.usn|default:"Not provided" }}</li>  <!-- Display USN only if role is student -->
            {% endif %}
        </ul>
        <a href="{% url 'edit_profile' %}" class="btn btn-primary">Edit Profile</a>
        {% else %}
        <p>
            You are not logged in. Please <a href="{% url 'login' %}">log in</a> to view your profile details.
        </p>
        {% endif %}
    </div>
</section>
{% endblock %}
